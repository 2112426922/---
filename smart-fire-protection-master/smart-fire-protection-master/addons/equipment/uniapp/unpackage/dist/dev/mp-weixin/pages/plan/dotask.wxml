<view class="container"><view class="form"><form><block wx:for="{{fields}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><block wx:if="{{item.type=='text'}}"><view class="cu-form-group margin-top-sm"><view class="title">{{item.label}}</view><input type="text" name="{{item.name}}" data-event-opts="{{[['input',[['__set_model',['$0','value','$event',[]],['values.'+item.name+'']]]]]}}" value="{{values[item.name].value}}" bindinput="__e"/></view></block><block wx:if="{{item.type=='number'}}"><view class="cu-form-group margin-top-sm border-custom"><view class="title">{{item.label}}</view><input type="number" name="{{item.name}}" data-event-opts="{{[['input',[['__set_model',['$0','value','$event',[]],['values.'+item.name+'']]]]]}}" value="{{values[item.name].value}}" bindinput="__e"/></view></block><block wx:if="{{item.type=='textarea'}}"><view class="cu-form-group margin-top-sm align-start"><view class="title">{{item.label}}</view><textarea maxlength="-1" data-event-opts="{{[['input',[['textareaInput',['$event','$0'],[[['fields','',index,'name']]]]]]]}}" bindinput="__e"></textarea></view></block><block wx:if="{{item.type=='radio'}}"><view class="cu-form-group margin-top-sm"><view class="title">{{item.label}}</view><picker value="{{index}}" range="{{values[item.name].options}}" data-event-opts="{{[['change',[['pickerChange',['$event','$0'],[[['fields','',index,'name']]]]]]]}}" bindchange="__e"><view class="picker text-grey">{{''+(values[item.name].index>-1?values[item.name]['options'][values[item.name].index]:'请选择')+''}}</view></picker></view></block><block wx:if="{{item.type=='multiple'}}"><checkbox-group data-event-opts="{{[['change',[['checkboxChange',['$event','$0'],[[['fields','',index,'name']]]]]]]}}" class="block margin-top-sm" bindchange="__e"><view class="cu-form-group"><view class="title">{{item.label}}</view></view><block wx:for="{{values[item.name].options}}" wx:for-item="option" wx:for-index="key" wx:key="key"><view class="cu-form-group"><view class="title text-grey">{{option.value}}</view><checkbox class="{{['blue',option.checked?'checked':'']}}" checked="{{option.checked?true:false}}" value="{{option.value}}"></checkbox></view></block></checkbox-group></block></block></block><block wx:if="{{type=='inspection'}}"><view class="cu-form-group margin-top-sm"><view class="title text-bold" style="color:red;">巡检结果</view><picker value="{{workIndex}}" range="{{workStatus}}" data-event-opts="{{[['change',[['pickerStatusChange',['$event']]]]]}}" bindchange="__e"><view class="picker text-grey">{{''+(workIndex>-1?workStatus[workIndex]:'请选择')+''}}</view></picker></view></block><view class="cu-bar bg-white margin-top-sm"><view class="action text-df text-black">现场照片</view><view class="action">{{''+$root.g0+'/4'}}</view></view><view class="cu-form-group"><view class="grid col-4 grid-square flex-sub"><block wx:for="{{imgList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="bg-img" data-url="{{imgList[index]}}" data-event-opts="{{[['tap',[['viewImage',['$event']]]]]}}" bindtap="__e"><image src="{{imgList[index]}}" mode="aspectFill"></image><view class="cu-tag bg-red" data-index="{{index}}" data-event-opts="{{[['tap',[['delImg',['$event']]]]]}}" catchtap="__e"><text class="cuIcon-close"></text></view></view></block><block wx:if="{{$root.g1<4}}"><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="solids" bindtap="__e"><text class="cuIcon-cameraadd"></text></view></block></view></view><view class="cu-form-group margin-top-sm"><textarea maxlength="-1" placeholder="备注" data-event-opts="{{[['input',[['textareaRemark',['$event']]]]]}}" bindinput="__e"></textarea></view></form></view><view style="height:60px;"></view><view data-event-opts="{{[['tap',[['submit']]]]}}" class="cu-bar bg-white tabbar flex flex-wrap" bindtap="__e"><button class="bg-black submit basis-sm" style="border-radius:0;">提交</button></view></view>