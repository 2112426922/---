(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/repair/info"],{141:function(n,e,t){"use strict";(function(n,e){var i=t(4);t(26);i(t(25));var o=i(t(142));n.__webpack_require_UNI_MP_PLUGIN__=t,e(o.default)}).call(this,t(1)["default"],t(2)["createPage"])},142:function(n,e,t){"use strict";t.r(e);var i=t(143),o=t(145);for(var r in o)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(r);t(147);var a,u=t(32),c=Object(u["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],a);c.options.__file="pages/repair/info.vue",e["default"]=c.exports},143:function(n,e,t){"use strict";t.r(e);var i=t(144);t.d(e,"render",(function(){return i["render"]})),t.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),t.d(e,"components",(function(){return i["components"]}))},144:function(n,e,t){"use strict";var i;t.r(e),t.d(e,"render",(function(){return o})),t.d(e,"staticRenderFns",(function(){return a})),t.d(e,"recyclableRender",(function(){return r})),t.d(e,"components",(function(){return i}));var o=function(){var n=this,e=n.$createElement;n._self._c},r=!1,a=[];o._withStripped=!0},145:function(n,e,t){"use strict";t.r(e);var i=t(146),o=t.n(i);for(var r in i)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(r);e["default"]=o.a},146:function(n,e,t){"use strict";(function(n){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=0,o=!1,r={data:function(){return{info:{}}},onLoad:function(e){if(t=this,!e.id)return t.tui.toast("未知维修工单"),void setTimeout((function(){n.navigateBack()}),1500);i=e.id,t.getInfo()},methods:{getInfo:function(){n.showLoading({title:"查询中..."}),t.$api.repairInfo({id:i}).then((function(e){n.hideLoading(),t.info=e.data})).catch((function(e){n.hideLoading(),t.tui.toast(e.msg)}))},viewDocument:function(e){if(""!=e){var i=e.slice(-4);".pdf"==i?(n.showLoading({title:"加载中...",mask:!0}),n.downloadFile({url:e,success:function(e){if(200===e.statusCode){var i=e.tempFilePath;n.openDocument({filePath:i,fileType:"pdf",success:function(n){},fail:function(n){t.tui.toast("文档加载失败")},complete:function(){n.hideLoading()}})}else n.hideLoading(),t.tui.toast("文档加载失败")},fail:function(e){n.hideLoading(),t.tui.toast("文档加载失败")}})):n.previewImage({urls:[e]})}},register:function(){n.navigateTo({url:"/pages/repair/register?repair_id="+t.info.repair_id})},receive:function(){o||(i?n.showModal({title:"提示",content:"是否确认接单？",cancelText:"再看看",confirmText:"确定",cancelColor:"#8799a3",confirmColor:"#333333",success:function(n){n.confirm&&t.doReceive()}}):t.tui.toast("未知维修工单"))},doReceive:function(){n.showLoading({title:"接单中..."}),t.$api.receiveRepairs({repair_id:i}).then((function(e){o=!1,n.hideLoading(),t.tui.toast("接单成功","","success"),setTimeout((function(){n.$emit("repairChange",{ischange:!0,type:"repair"}),t.getInfo()}),1500)})).catch((function(e){o=!1,n.hideLoading(),t.tui.toast(e.msg)}))},goEquipmentInfo:function(e){n.navigateTo({url:"/pages/equipment/info?coding="+e})}}};e.default=r}).call(this,t(2)["default"])},147:function(n,e,t){"use strict";t.r(e);var i=t(148),o=t.n(i);for(var r in i)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(r);e["default"]=o.a},148:function(n,e,t){}},[[141,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/repair/info.js.map